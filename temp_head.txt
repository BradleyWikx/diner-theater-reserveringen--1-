

import React, { useState, useEffect, useMemo, useCallback, ReactNode, Fragment, useRef, createContext, useContext } from 'react';
import { createRoot } from 'react-dom/client';
import { GoogleGenAI, GenerateContentResponse } from "@google/genai";
import PremiumDashboard from './PremiumDashboard';
import type { 
    ShowEvent, 
    InternalEvent, 
    SchedulePrintOptions, 
    ManagementReportData, 
    AddonQuantities, 
    Reservation, 
    WaitingListEntry,
    AnalyticsData,
    WaitlistMetrics,
    ConversionMetrics,
    RevenueMetrics,
    CustomerInsights,
    PredictiveMetrics,
    View,
    AdminView,
    SettingsTab,
    PackageItem,
    MerchandisePackage,
    BorrelEvent,
    EnhancedMerchandiseItem,
    EditableItem,
    ArchivableItem,
    ShowType,
    PromoCode,
    GiftCard,
    BookingApproval,
    ApprovalRule,
    ApprovalCondition,
    WaitlistEntry,
    WaitlistNotification,
    Customer,
    TheaterVoucher,
    ShopMerchandiseItem,
    ShopBundle,
    ShopCategory,
    WizardLayoutSection,
    ShopConfiguration,
    AppConfig
} from './src/types/types';

// Import configuration
import { i18n, defaultConfig } from './src/config/config';

// Import components
import { Icon } from './src/components/UI/Icon';
import { Header } from './src/components/UI/Header';
import { ToastProvider, useToast } from './src/components/providers/ToastProvider';
import { ConfirmationProvider, useConfirmation } from './src/components/providers/ConfirmationProvider';
import { BookingView } from './src/components/views/BookingView';

// Import hooks
import { useMediaQuery, usePersistentState } from './src/hooks';

// Import utilities
import { 
    getDaysInMonth, formatDateToNL, formatDate, slugify, sanitizeInput,
    getWeekRange, validateEmail, validatePhoneNumber, validatePostalCode,
    generateVoucherCode, calculateExpiryDate, isVoucherExpired, getVoucherStatus,
    validateVoucherForUse, extendVoucherExpiry, debounce, throttle, getShowTimes,
    generateShowTypeCSS
} from './src/utils/utilities';

import { 
    BarChart3, 
    DollarSign, 
    Users, 
    Calendar as CalendarIcon, 
    UserCheck, 
    Download, 
    TrendingUp, 
    ArrowUpRight, 
    ArrowDownRight, 
    Star, 
    Lightbulb, 
    AlertTriangle 
} from 'lucide-react';
import { 
    ResponsiveContainer, 
    LineChart, 
    CartesianGrid, 
    XAxis, 
    YAxis, 
    Tooltip, 
    Line, 
    PieChart, 
    Pie, 
    Cell 
} from 'recharts';

// --- I1N (Internationalization) - Dutch ---
// --- UTILITY FUNCTIONS & HOOKS ---

// --- NOTIFICATION & CONFIRMATION CONTEXT ---
